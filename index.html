<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>능이버섯 블록체인 이력추적 시스템</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F8F8F8;
            color: #333333;
        }
        h1,h2,h3 { color: #333333; }
        .system-container {
            border:1px solid #E0E0E0; border-radius:10px;
            background:#FFF; padding:1.5rem;
            box-shadow:0 6px 16px rgba(0,0,0,0.05);
        }
        .system-card {
            background:#FFF; border:1px solid #EAEAEA;
            border-radius:8px; box-shadow:0 3px 9px rgba(0,0,0,0.08);
            transition:transform .2s,box-shadow .2s;
        }
        .system-card:hover {
            transform:translateY(-2px);
            box-shadow:0 5px 12px rgba(0,0,0,0.1);
        }
        /* Flowchart, chart, modal 스타일은 동일하므로 생략 */
    </style>
</head>
<body class="text-gray-800">
  <div class="container mx-auto p-4 md:p-8 max-w-4xl system-container">

    <!-- Hero Section -->
    <header class="text-center mb-10 border-b pb-6 border-gray-200">
      <div class="inline-block bg-[#007BFF] text-white rounded-full px-4 py-2 text-sm font-bold mb-4 shadow-md">
        <span class="inline-block animate-pulse mr-2">🔗</span>블록체인 검증 완료
      </div>
      <h1 class="text-4xl md:text-5xl font-black text-[#333333] mb-2">
        건조 능이버섯 통합 이력추적 시스템
      </h1>
      <p class="text-lg text-gray-600">Sarcodon Aspratus Traceability System</p>
    </header>

    <!-- Verification Section -->
    <section class="system-card p-6 md:p-8 mb-12 text-center">
      <p class="text-lg font-medium text-gray-700 mb-2">이력추적 문서 번호 (Traceability ID)</p>
      <p class="text-5xl md:text-6xl font-bold text-[#007BFF] trace-id-font tracking-widest mb-4">
        KFA-BT-20250417-CN01
      </p>
      <div class="inline-flex items-center bg-blue-100 text-blue-800 text-base font-semibold px-4 py-2 rounded-full border border-blue-300">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        데이터 무결성 검증 완료
      </div>
      <p class="mt-5 text-gray-600 max-w-3xl mx-auto text-sm">
        본 이력 정보는 한국산림청(KFA) 프로토콜에 따라 블록체인에 기록되어
        위·변조가 불가능하며, 투명하고 신뢰할 수 있는 정보를 제공합니다.
      </p>
    </section>

    <!-- Product Overview -->
    <section class="system-card p-6 md:p-8 mb-12">
      <div class="grid md:grid-cols-3 gap-6 items-center">
        <div class="md:col-span-1 border border-gray-200 rounded-md overflow-hidden">
          <img src="https://placehold.co/400x400/C0C0C0/333333?text=Neungi"
               alt="건조 능이버섯" class="object-cover w-full h-48 md:h-full">
        </div>
        <div class="md:col-span-2">
          <h2 class="text-2xl font-bold text-[#333333] mb-4 border-b pb-2 border-gray-200">
            제품 정보 요약
          </h2>
          <div class="grid grid-cols-2 gap-4 text-sm">
            <div>
              <p class="font-semibold text-gray-500">제품명</p>
              <p class="font-bold text-gray-800">건조 능이버섯</p>
            </div>
            <div>
              <p class="font-semibold text-gray-500">학명</p>
              <p class="font-bold text-gray-800">Sarcodon aspratus</p>
            </div>
            <div>
              <p class="font-semibold text-gray-500">품종</p>
              <p class="font-bold text-gray-800">운남성 산지종</p>
            </div>
            <div>
              <p class="font-semibold text-gray-500">원산지</p>
              <p class="font-bold text-gray-800">중국 운남성</p>
            </div>
            <div>
              <p class="font-semibold text-gray-500">수입자</p>
              <p class="font-bold text-gray-800">(주)아이와푸드</p>
            </div>
            <div>
              <p class="font-semibold text-gray-500">유통기한</p>
              <p class="font-bold text-red-600">2025년 09월 14일</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Journey Section -->
    <section class="mb-12">
      <h2 class="text-3xl font-extrabold text-center mb-8 text-[#333333]">
        능이버섯의 여정: 공급망 추적
      </h2>
      <div class="flowchart-group">
        <!-- Step 1 -->
        <div class="flowchart-item">
          <div class="item-content md:col-span-1">
            <div class="system-card p-6">
              <h3 class="text-xl font-bold mb-2">자연 채취</h3>
              <p class="text-gray-600 text-sm">
                중국 운남성 시솽반나 열대우림(해발 1,250m)에서 허가된 채취인이 직접 손으로 채취했습니다.
              </p>
            </div>
          </div>
          <div class="step-indicator">01</div>
          <div class="icon-wrapper">🌲</div>
        </div>
        <!-- Step 2 -->
        <div class="flowchart-item">
          <div class="icon-wrapper">🚢</div>
          <div class="step-indicator">02</div>
          <div class="item-content md:col-span-1">
            <div class="system-card p-6">
              <h3 class="text-xl font-bold mb-2">수입 및 통관</h3>
              <p class="text-gray-600 text-sm">
                인천항을 통해 정식 수입(신고번호: 24HSLI0241L0260002)되었으며, 엄격한 검역 절차를 통과했습니다.
              </p>
            </div>
          </div>
        </div>
        <!-- Step 3 -->
        <div class="flowchart-item">
          <div class="item-content md:col-span-1">
            <div class="system-card p-6">
              <h3 class="text-xl font-bold mb-2">안전성 검사</h3>
              <p class="text-gray-600 text-sm">
                식약처 공인 연구소에서 위생 검사를 통과하고, (주)바이오푸드랩에서 463종 잔류농약 검사를 통과했습니다.
              </p>
            </div>
          </div>
          <div class="step-indicator">03</div>
          <div class="icon-wrapper">🔬</div>
        </div>
        <!-- Step 4 -->
        <div class="flowchart-item">
          <div class="icon-wrapper">🚚</div>
          <div class="step-indicator">04</div>
          <div class="item-content md:col-span-1">
            <div class="system-card p-6">
              <h3 class="text-xl font-bold mb-2">콜드체인 보관 및 유통</h3>
              <p class="text-gray-600 text-sm">
                경기도 용인시 스마트 콜드체인 시설에서 0~5°C로 보관되며, 전문 콜드 물류 파트너를 통해 배송됩니다.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Blockchain Data Verification Status Section -->
    <section class="mb-12">
      <h2 class="text-3xl font-extrabold text-center mb-8 text-[#333333]">
        블록체인 데이터 검증 현황
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="system-card p-6 text-center">
          <p class="text-sm font-semibold text-gray-500 mb-2">총 데이터 블록 수</p>
          <p id="blockCount" class="text-4xl md:text-5xl font-bold text-[#007BFF] trace-id-font">0</p>
          <p class="text-xs text-gray-600 mt-2">안정적인 데이터 기록</p>
        </div>
        <div class="system-card p-6 text-center">
          <p class="text-sm font-semibold text-gray-500 mb-2">검증된 거래 수</p>
          <p id="txCount" class="text-4xl md:text-5xl font-bold text-[#28A745] trace-id-font">0</p>
          <p class="text-xs text-gray-600 mt-2">완벽한 데이터 무결성</p>
        </div>
        <div class="system-card p-6 text-center">
          <p class="text-sm font-semibold text-gray-500 mb-2">마지막 업데이트</p>
          <p id="lastUpdate" class="text-2xl md:text-3xl font-bold text-[#C0C0C0] trace-id-font">
            2025.06.15 19:00 KST
          </p>
          <p class="text-xs text-gray-600 mt-2">실시간 정보 제공</p>
        </div>
      </div>
    </section>

    <!-- Safety & Quality Dashboard (이하 생략 없이 그대로) -->
    <!-- Document Library, Modal, Footer 등 생략 -->

    <script>
      // 차트 초기화 (생략)

      // 숫자 카운팅 애니메이션
      function animateValue(id, start, end, duration) {
        const obj = document.getElementById(id);
        let current = start;
        const range = end - start;
        const minTimer = 50;
        let stepTime = Math.abs(Math.floor(duration / range));
        stepTime = Math.max(stepTime, minTimer);
        const timer = setInterval(() => {
          current++;
          obj.textContent = current.toLocaleString();
          if (current >= end) clearInterval(timer);
        }, stepTime);
      }

      document.addEventListener('DOMContentLoaded', () => {
        // 블록 수: 0 → 1,284 (2초)
        animateValue('blockCount', 0, 1284, 2000);
        // 거래 수: 0 → 420 (1.5초)
        animateValue('txCount', 0, 420, 1500);
        // 마지막 업데이트 깜박이기
        const el = document.getElementById('lastUpdate');
        setInterval(() => {
          el.style.visibility = el.style.visibility === 'hidden' ? 'visible' : 'hidden';
        }, 500);
      });
    </script>
</body>
</html>
